{"version":3,"sources":["components/Birthdays.jsx","components/Employees.jsx","App.js","index.js"],"names":["BirthdaysContainer","styled","div","Birthdays","checkedUsers","months","users","map","user","dob","Date","sort","a","b","month","index","usersBornThisMonth","filter","getMonth","length","tmp","push","forEach","lastName","firstName","getDate","getFullYear","id","EmployeesContainer","Lists","ul","ListItems","li","Employees","useState","data","setData","JSON","parse","window","localStorage","getItem","setCheckedUsers","letters","toUpperCase","split","useEffect","axios","get","then","json","result","localeCompare","usersData","reduce","acc","letter","updateCheckedUsers","e","target","checked","find","u","setItem","stringify","Object","entries","usr","htmlFor","onChange","type","checkedUser","Wrap","GlobalStyles","createGlobalStyle","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.9912237d.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nfunction Birthdays({ checkedUsers }) {\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n\n  const users =\n    checkedUsers &&\n    checkedUsers\n      .map((user) => {\n        return { ...user, dob: new Date(user.dob) };\n      })\n      .sort((a, b) => new Date(a.dob) - new Date(b.dob));\n\n  function renderBirthdays() {\n    return (\n      <>\n        <h2>Employees birthday</h2>\n        <ul>\n          {users &&\n            months.map((month, index) => {\n              const usersBornThisMonth = users.filter(\n                (user) => user.dob.getMonth() === index\n              );\n              if (!usersBornThisMonth.length) return null;\n              let tmp = [];\n              tmp.push(<h3>{month}</h3>);\n              usersBornThisMonth.forEach((user) => {\n                tmp.push(\n                  <li key={`birthday${user.id}`}>{`${user.lastName} ${\n                    user.firstName\n                  } - ${new Date(user.dob).getDate()} ${\n                    months[new Date(user.dob).getMonth()]\n                  }, ${new Date(user.dob).getFullYear()} year`}</li>\n                );\n              });\n              return tmp;\n            })}\n        </ul>\n      </>\n    );\n  }\n\n  return <BirthdaysContainer>{renderBirthdays()}</BirthdaysContainer>;\n}\n\nconst BirthdaysContainer = styled.div`\n  width: 35%;\n  position: relative;\n\n  li {\n    list-style-type: disc;\n  }\n\n  h2 {\n    position: relative;\n  }\n\n  h2::after {\n    content: \"\";\n    width: 300px;\n    height: 1px;\n    position: absolute;\n    background: black;\n    z-index: 9999;\n    top: 47px;\n    right: 112px;\n  }\n\n  &::before {\n    position: absolute;\n    content: \"\";\n    height: 90%;\n    width: 2px;\n    background: #c8c8c8;\n    top: 69px;\n  }\n`;\nexport default Birthdays;\n","import React, { useState, useEffect } from \"react\";\nimport Birthdays from \"./Birthdays\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nfunction Employees() {\n  const [data, setData] = useState([]);\n  const [checkedUsers, setCheckedUsers] = useState(\n    JSON.parse(window.localStorage.getItem(\"checkedUsers\")) || []\n  );\n  const letters = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\n\n  useEffect(() => {\n    axios\n      .get(\"https://yalantis-react-school-api.yalantis.com/api/task0/users\")\n      .then((json) => {\n        setData(\n          json.data.sort((a, b) => {\n            const result = a.firstName.localeCompare(b.firstName);\n            return result !== 0 ? result : a.lastName.localeCompare(b.lastName);\n          })\n        );\n      });\n  }, []);\n\n  const usersData = letters.reduce((acc, letter) => {\n    return {\n      ...acc,\n      [letter]: data.filter((user) => user.lastName[0] === letter),\n    };\n  }, {});\n\n  const updateCheckedUsers = (e) => {\n    let tmp = [...checkedUsers];\n\n    if (e.target.checked) {\n      tmp.push(data.find((u) => u.id === e.target.id));\n    } else {\n      tmp = tmp.filter((user) => user.id !== e.target.id);\n    }\n\n    window.localStorage.setItem(\"checkedUsers\", JSON.stringify(tmp));\n    setCheckedUsers(tmp);\n  };\n\n  function renderUsers() {\n    return (\n      <EmployeesContainer>\n        <h2>Employees</h2>\n        <Lists>\n          {Object.entries(usersData).map(([letter, users]) => {\n            return (\n              <ListItems key={letter}>\n                <h3>{letter}</h3>\n                <ul>\n                  {users.length > 0 ? (\n                    users.map((usr) => (\n                      <li key={usr.id}>\n                        <label htmlFor={usr.id}>\n                          {usr.lastName} {usr.firstName}\n                        </label>\n                        <input\n                          onChange={updateCheckedUsers}\n                          id={usr.id}\n                          type=\"checkbox\"\n                          checked={checkedUsers.find(\n                            (checkedUser) => checkedUser.id === usr.id\n                          )}\n                        />\n                      </li>\n                    ))\n                  ) : (\n                    <p>-----</p>\n                  )}\n                </ul>\n              </ListItems>\n            );\n          })}\n        </Lists>\n      </EmployeesContainer>\n    );\n  }\n\n  return (\n    <>\n      {renderUsers()}\n\n      <Birthdays checkedUsers={checkedUsers} />\n    </>\n  );\n}\n\nconst EmployeesContainer = styled.div`\n  width: 65%;\n`;\n\nconst Lists = styled.ul`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nconst ListItems = styled.li`\n  width: 25%;\n\n  ul {\n    padding: 0;\n\n    li {\n      position: relative;\n\n      input {\n        position: absolute;\n        right: 30%;\n      }\n    }\n  }\n`;\n\nexport default Employees;\n","import React from \"react\";\nimport Employees from \"./components/Employees\";\nimport styled from \"styled-components\";\nimport { createGlobalStyle } from \"styled-components\";\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyles />\n      <Wrap>\n        <Employees />\n      </Wrap>\n    </>\n  );\n}\n\nconst Wrap = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  font-family: \"PT Sans\", sans-serif;\n`;\nconst GlobalStyles = createGlobalStyle`        \n  ul, li {\n    list-style-type: none;\n  }\n\n  h2 {\n    text-align: center;\n    padding-bottom: 20px;\n  }\n`;\nexport default App;\n","import React from 'react';\nimport {render} from 'react-dom'\nimport App from './App';\n\n\nrender(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}